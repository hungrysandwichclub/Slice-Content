{"version":3,"sources":["index.js"],"names":["window","ExtractText","Constructor","selector","Error","parent","document","currentScript","parentElement","elements","querySelectorAll","nextUntil","elem","filter","Element","prototype","matches","msMatchesSelector","webkitMatchesSelector","siblings","nextElementSibling","push","format","i","length","content","unshift","element","createElement","setAttribute","className","appendChild"],"mappings":"AAAAA,MAAM,CAACC,WAAP,GAAsB,YAAW;AAE/B;AAGA;AACF;AACA;AACA;;AACE,MAAIC,WAAW,GAAG,SAAdA,WAAc,CAAUC,QAAV,EAAoB;AAClC,QAAI,CAACA,QAAL,EAAe;AACX,YAAM,IAAIC,KAAJ,CAAU,uBAAV,CAAN;AACH;;AACD,SAAKD,QAAL,GAAgBA,QAAhB;AACA,SAAKE,MAAL,GAAcC,QAAQ,CAACC,aAAT,CAAuBC,aAArC;AACA,SAAKC,QAAL,GAAgB,KAAKJ,MAAL,CAAYK,gBAAZ,CAA6B,KAAKP,QAAlC,CAAhB;AACH,GAPD;AASA;AACF;AACA;AACA;;;AACE,MAAIQ,SAAS,GAAG,SAAZA,SAAY,CAAUC,IAAV,EAAgBT,QAAhB,EAA0BU,MAA1B,EAAkC;AAChD;AACA,QAAI,CAACC,OAAO,CAACC,SAAR,CAAkBC,OAAvB,EAAgC;AAC9BF,MAAAA,OAAO,CAACC,SAAR,CAAkBC,OAAlB,GAA4BF,OAAO,CAACC,SAAR,CAAkBE,iBAAlB,IAAuCH,OAAO,CAACC,SAAR,CAAkBG,qBAArF;AACD,KAJ+C,CAKhD;;;AACA,QAAIC,QAAQ,GAAG,EAAf,CANgD,CAOhD;;AACAP,IAAAA,IAAI,GAAGA,IAAI,CAACQ,kBAAZ,CARgD,CAShD;;AACA,WAAOR,IAAP,EAAa;AACX;AACA,UAAIA,IAAI,CAACI,OAAL,CAAab,QAAb,CAAJ,EAA4B,MAFjB,CAGX;;AACA,UAAIU,MAAM,IAAI,CAACD,IAAI,CAACI,OAAL,CAAaH,MAAb,CAAf,EAAqC;AACnCD,QAAAA,IAAI,GAAGA,IAAI,CAACQ,kBAAZ;AACA;AACD,OAPU,CAQX;;;AACAD,MAAAA,QAAQ,CAACE,IAAT,CAAcT,IAAd,EATW,CAUX;;AACAA,MAAAA,IAAI,GAAGA,IAAI,CAACQ,kBAAZ;AACD;;AACD,WAAOD,QAAP;AACD,GAxBD;AA0BA;AACF;AACA;;;AACEjB,EAAAA,WAAW,CAACa,SAAZ,CAAsBO,MAAtB,GAA+B,YAAW;AACxC;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKd,QAAL,CAAce,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7C;AACA,UAAIE,OAAO,GAAGd,SAAS,CAAC,KAAKF,QAAL,CAAcc,CAAd,CAAD,EAAmB,KAAKpB,QAAxB,CAAvB,CAF6C,CAG7C;;AACAsB,MAAAA,OAAO,CAACC,OAAR,CAAgB,KAAKjB,QAAL,CAAcc,CAAd,CAAhB,EAJ6C,CAK7C;;AACA,UAAII,OAAO,GAAGrB,QAAQ,CAACsB,aAAT,CAAuB,KAAvB,CAAd;AACAD,MAAAA,OAAO,CAACE,YAAR,CAAqB,OAArB,EAA8B,KAAKxB,MAAL,CAAYyB,SAA1C,EAP6C,CAQ7C;;AACA,WAAK,IAAIP,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGE,OAAO,CAACD,MAA5B,EAAoCD,EAAC,EAArC,EAAyC;AACvCI,QAAAA,OAAO,CAACI,WAAR,CAAoBN,OAAO,CAACF,EAAD,CAA3B;AACD;;AACD,WAAKlB,MAAL,CAAYG,aAAZ,CAA0BuB,WAA1B,CAAsCJ,OAAtC;AACD;AAEF,GAjBD;;AAmBA,SAAOzB,WAAP;AACD,CAvEoB,EAArB","file":"HSC_ExtractText.e31bb0bc.js","sourceRoot":"..","sourcesContent":["window.ExtractText = (function() {\n\n  \"use strict\";\n\n\n  /*\n  * Setup Function Constructor\n  * @param {String} selector\n  */\n  var Constructor = function (selector) {\n      if (!selector) {\n          throw new Error('ðŸ¤” Selector not found');\n      }\n      this.selector = selector;\n      this.parent = document.currentScript.parentElement;\n      this.elements = this.parent.querySelectorAll(this.selector);\n  }\n\n  /*\n  * Get all following siblings of each element up to but not including the element matched by the selector\n  * https://vanillajstoolkit.com/helpers/nextuntil/\n  */\n  var nextUntil = function (elem, selector, filter) {\n    // matches() polyfill\n    if (!Element.prototype.matches) {\n      Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n    }\n    // Setup siblings array\n    var siblings = [];\n    // Get the next sibling element\n    elem = elem.nextElementSibling;\n    // As long as a sibling exists\n    while (elem) {\n      // If we've reached our match, bail\n      if (elem.matches(selector)) break;\n      // If filtering by a selector, check if the sibling matches\n      if (filter && !elem.matches(filter)) {\n        elem = elem.nextElementSibling;\n        continue;\n      }\n      // Otherwise, push it to the siblings array\n      siblings.push(elem);\n      // Get the next sibling element\n      elem = elem.nextElementSibling;\n    }\n    return siblings;\n  }\n\n  /*\n  * Iterate though all elements and split into styled components\n  */\n  Constructor.prototype.format = function() {\n    // Loop though and create items - offset of 1 leaves first block in original element\n    for (let i = 1; i < this.elements.length; i++) {\n      // Get all content below selector\n      let content = nextUntil(this.elements[i], this.selector);\n      // Prepend header to content\n      content.unshift(this.elements[i]);\n      // Create new element with class that matches existing block\n      let element = document.createElement(\"div\");\n      element.setAttribute('class', this.parent.className);\n      // Populate element with content\n      for (let i = 0; i < content.length; i++) {\n        element.appendChild(content[i]);\n      }\n      this.parent.parentElement.appendChild(element);\n    }\n\n  }\n\n  return Constructor;\n})();"]}